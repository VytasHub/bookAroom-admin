"use strict";function displayChatMessage(a,b){$("<div/>").text(b).prepend($("<em/>").text(a+": ")).appendTo($("#messagesDiv")),$("#messagesDiv")[0].scrollTop=$("#messagesDiv")[0].scrollHeight}angular.module("bookAroomApp",["firebase","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","formly","formlyBootstrap","ngAnimate"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/view",{templateUrl:"views/view.html",controller:"WorkBenchController",controllerAs:"fireApp"}).when("/add",{templateUrl:"views/add.html",controller:"AddCtrl",controllerAs:"add"}).otherwise({redirectTo:"/"})}]).constant("FIREBASE_URL","https://bookaroomfirebase.firebaseio.com/"),angular.module("bookAroomApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]});var myDataRef=new Firebase("https://bookaroomfirebase.firebaseIO.com/");$("#messageInput").keypress(function(a){if(13==a.keyCode){var b=$("#nameInput").val(),c=$("#messageInput").val();myDataRef.push({name:b,text:c}),$("#messageInput").val("")}}),myDataRef.on("child_added",function(a){var b=a.val();displayChatMessage(b.name,b.text)}),angular.module("bookAroomApp").controller("WorkBenchController",["$scope","$firebaseArray",function(a,b){function c(){a.Address="",a.CityTown="",a.WName=""}var d=new Firebase("https://bookaroomfirebase.firebaseio.com/WorkBenches");d.key();a.WorkBenches=b(d),a.showForm=function(){a.addFormShow=!0,a.editFormShow=!1,c()},a.hideForm=function(){a.addFormShow=!1},a.addFormSubmit=function(){a.WorkBenches.$add({Address:a.Address,CityTown:a.CityTown,WName:a.WName})},a.showWorkbench=function(b){console.log("show button is called "),a.addFormShow=!1,a.editFormShow=!0,a.Address=b.Address,a.CityTown=b.CityTown,a.WName=b.WName,a.id=b.$id,console.log("item "+JSON.stringify(b))},a.editFormSubmit=function(){console.log("editFormSubmit is called "),console.log("id:"+a.id);var b=a.WorkBenches.$getRecord(a.id);console.log("record "+JSON.stringify(b)),b.Address=a.Address||null,b.CityTown=a.CityTown||null,b.WName=a.WName||null,a.WorkBenches.$save(b)},a.deleteWorkbench=function(b){a.WorkBenches.$remove(b)}}]),angular.module("bookAroomApp").controller("AboutCtrl",["$scope",function(a){}]),angular.module("bookAroomApp").controller("ContactCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("bookAroomApp").controller("ViewCtrl",["$scope",function(a){a.sortType="name",a.sortReverse=!1,a.searchWorkbench="",a.workbench=[{city_town_name:"Galway",address:"Eyre Square",roomName:"GreenRoom"},{city_town_name:"Galway",address:"Eyre Square",roomName:"RedRoom"},{city_town_name:"Athlone",address:"Main Street",roomName:"BlackRoom"},{city_town_name:"Dublin",address:"By the River",roomName:"Blue Room"}]}]),angular.module("bookAroomApp").controller("AddCtrl",["$scope","$firebaseArray",function(a,b){function c(){a.Address="",a.CityTown="",a.WName=""}var d=new Firebase("https://bookaroomfirebase.firebaseio.com/WorkBenches");d.key();a.WorkBenches=b(d),a.showForm=function(){a.addFormShow=!0,a.editFormShow=!1,c()},a.hideForm=function(){a.addFormShow=!1},a.addFormSubmit=function(){a.WorkBenches.$add({Address:a.Address,CityTown:a.CityTown,WName:a.WName})},a.showWorkbench=function(b){console.log("show button is called "),a.addFormShow=!1,a.editFormShow=!0,a.Address=b.Address,a.CityTown=b.CityTown,a.WName=b.WName,a.id=b.$id,console.log("item "+JSON.stringify(b))},a.editFormSubmit=function(){console.log("editFormSubmit is called "),console.log("id:"+a.id);var b=a.WorkBenches.$getRecord(a.id);console.log("record "+JSON.stringify(b)),b.Address=a.Address||null,b.CityTown=a.CityTown||null,b.WName=a.WName||null,a.WorkBenches.$save(b)},a.deleteWorkbench=function(b){a.WorkBenches.$remove(b)}}]),angular.module("bookAroomApp").factory("province",function(){function a(){return[{name:"Galway",value:"Galway"},{name:"Dublin",value:"Dublin"},{name:"Athlone",value:"Athlone"},{name:"Limerick",value:"Limerick"}]}return{getProvinces:a}}),angular.module("bookAroomApp").run(["$templateCache",function(a){a.put("views/about.html",'<!-- JS --><!--  <script src="app.js"></script> --><!-- <div class="container" ng-app="bookAroomApp" ng-controller="AboutCtrl"> --><!-- Displays blue box sort order atributes\n  <div class="alert alert-info">\n    <p>Sort Type: {{ sortType }}</p>\n    <p>Sort Reverse: {{ sortReverse }}</p>\n    <p>Search Query: {{ searchFish }}</p>\n  </div> --> <form> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="fa fa-search"></i></div> <input type="text" class="form-control" placeholder="Search Workbench" ng-model="searchWorkbench"> </div> </div> </form> <table class="table table-bordered table-striped"> <thead> <tr> <td> <a href="#/about" ng-click="sortType = \'city_town_name\'; sortReverse = !sortReverse"> Workbench City/Town <span ng-show="sortType == \'city_town_name\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'city_town_name\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> <td> <a href="#/about" ng-click="sortType = \'address\'; sortReverse = !sortReverse"> Workbench Address <span ng-show="sortType == \'address\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'address\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> <td> <a href="#/about" ng-click="sortType = \'roomName\'; sortReverse = !sortReverse"> Workbench room name <span ng-show="sortType == \'roomName\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'roomName\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> </tr> </thead> <tbody> <tr ng-repeat="workbenchList in workbench | orderBy:sortType:sortReverse | filter:searchWorkbench"> <td>{{ workbenchList.city_town_name }}</td> <td>{{ workbenchList.address }}</td> <td>{{ workbenchList.roomName }}</td> </tr> </tbody> </table> <!-- </div> -->'),a.put("views/add.html",'<!-- <div class="formly-container">\n    <form novalidate>\n        <h1>Add a Workbench eh?</h1>\n        <formly-form model="add.rental" fields="add.rentalFields" form="add.rentalForm">\n            <button type="submit" class="btn btn-primary" ng-disabled="add.rentalForm.$invalid" >Submit</button>\n        </formly-form>\n    </form>\n</div>  Formly view --> <form> <div class="form-group"> <label for="exampleInputEmail1">Address</label> <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Address" ng-model="Address" name="Address"> </div> <div class="form-group"> <label for="exampleInputPassword1">CityTown</label> <input type="text" class="form-control" id="exampleInputPassword1" placeholder="CityTown Name" ng-model="CityTown" name="CityTown"> </div> <div class="form-group"> <label for="exampleInputEmail1">WorkBenchName</label> <input type="text" class="form-control" id="exampleInputEmail1" placeholder="WorkBench Name" ng-model="WName" name="WName"> </div> <button type="submit" class="btn btn-default" ng-click="addFormSubmit()">Submit</button> </form>'),a.put("views/contact.html","<p>This is the contact view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <h1>BOI Workbench</h1> <p class="lead"> <!-- <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> --> Book a room with ease. </p> <!-- <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> --> </div> <!-- \n<div id=\'messagesDiv\'></div>\n'+"    <input type='text' id='nameInput' placeholder='Name'>\n    <input type='text' id='messageInput' placeholder='Message'>\n--> <!-- <div class=\"row marketing\">\n  <h4>HTML5 Boilerplate</h4>\n  <p>\n    HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites.\n  </p>\n\n  <h4>Angular</h4>\n  <p>\n    AngularJS is a toolset for building the framework most suited to your application development.\n  </p>\n\n  <h4>Karma</h4>\n  <p>Spectacular Test Runner for JavaScript.</p>\n</div>\n -->"),a.put("views/view.html",'<div> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="fa fa-search"></i></div> <input type="text" class="form-control" placeholder="Search Workbench" ng-model="searchWorkbench"> </div> </div> <div ng-show="editFormShow"> <!-- ng-submit="editFormSubmit()" --> <div class="form-group"> <input type="text" class="form-control" ng-model="Address" placeholder="City/Town" name="Address" required> </div> <div class="form-group"> <input type="text" class="form-control" ng-model="CityTown" placeholder="Address" name="CityTown" required> </div> <div class="form-group"> <input type="text" class="form-control" ng-model="WName" placeholder="Name" name="WName" required> </div> <button class="btn btn-default btn-warning" ng-click="editFormSubmit()"> Submit Changes </button> <!-- (Address, CityTown, WName --> <!--         <input type="submit" value="Submit Changes" class="btn btn-default btn-warning"/>\n--> <!-- <input type="submit" value="Edit City" class="btn btn-default btn-warning" ng-disabled="userForm.$invalid"/> --> </div> </div> <table class="table table-bordered table-striped"> <thead> <tr> <td> <a href="#/view" ng-click="sortType = \'city_town_name\'; sortReverse = !sortReverse"> Workbench City/Town <span ng-show="sortType == \'city_town_name\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'city_town_name\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> <td> <a href="#/view" ng-click="sortType = \'address\'; sortReverse = !sortReverse"> Workbench Address <span ng-show="sortType == \'address\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'address\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> <td> <a href="#/view" ng-click="sortType = \'roomName\'; sortReverse = !sortReverse"> Workbench room name <span ng-show="sortType == \'roomName\' && !sortReverse" class="fa fa-caret-down"></span> <span ng-show="sortType == \'roomName\' && sortReverse" class="fa fa-caret-up"></span> </a> </td> </tr> </thead> <tbody> <tr ng-repeat="item in WorkBenches | orderBy:sortType:sortReverse | filter:searchWorkbench"> <td>{{ item.Address }}</td> <td>{{ item.CityTown }}</td> <td>{{ item.WName }}</td> <td> <button class="btn btn-primary" ng-click="showWorkbench(item)">Edit</button>&nbsp; <button class="btn btn-danger" ng-click="deleteWorkbench(item)">Remove</button> </td> </tr> </tbody> </table>')}]);